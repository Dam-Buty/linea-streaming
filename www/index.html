<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="description"
      content="Bienvenue sur TÃ©lÃ© Zone Libre, prenez un pavÃ© et installez vous âš’ï¸"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      property="og:image"
      content="https://tv.lazone.at/images/fb-logo.webp"
    />
    <meta property="og:title" content="Bienvenue sur TÃ©lÃ© Zone Libre" />
    <meta
      property="og:description"
      content="La tÃ©lÃ© des annÃ©es 90 dans ton ordi des annÃ©es 20"
    />
    <title>Bienvenue sur TÃ©lÃ© Zone Libre</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        scrollbar-color: #f0edd5 #110b16;
      }

      #tv-container {
        background-size: 100% 100%;
      }
    </style>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              dark: "#110B16",
              light: "#F0EDD5",
              sand: "#F1E9AE",
              eggplant: "#533869",
            },
            backgroundImage: {
              "tv-pattern": "url('images/tele-zone-libre.webp')",
            },
          },
        },
      };
    </script>

    <script type="text/hyperscript" src="index._hs"></script>
    <script src="https://unpkg.com/hyperscript.org@0.9.9"></script>
    <script src="https://unpkg.com/hyperscript.org@0.9.9/dist/socket.js"></script>
  </head>
  <body class="bg-dark text-light justify-center items-center h-screen">
    <div class="flex flex-col lg:flex-row w-full h-full">
      <select
        id="tag-select"
        class="bg-light text-dark w-1/5 h-10 rounded-lg p-3 lg:fixed lg:block top-0 left-0 hidden"
        autocomplete="off"
        _="
        on change
          if event.target.value is 'all' then
            show .channel in #card-container
          else
            set tagClass to '.tag-' + event.target.value
            hide .channel in #card-container
            show .channel in #card-container when it matches tagClass
          end
      "
      >
        <option value="all" selected>Tout voir</option>
        <optgroup label="Langue">
          <option value="fr">En franÃ§ais ðŸ‡«ðŸ‡·</option>
          <option value="en">En anglais ðŸ‡¬ðŸ‡§</option>
        </optgroup>
        <optgroup label="Contenu">
          <option value="films">Films ðŸŽ¬</option>
          <option value="series">SÃ©ries ðŸ“€</option>
          <option value="shows">Emissions ðŸ“º</option>
          <option value="anime">Animation ðŸŽ¨</option>
        </optgroup>
      </select>
      <div
        id="cards-layout"
        class="lg:mt-10 lg:mb-0 mb-1 lg:w-1/5 overflow-x-auto lg:overflow-y-auto"
        _="init send loadData"
      >
        <div id="card-container" class="flex flex-row lg:flex-col"></div>
      </div>

      <h1
        class="currently-playing lg:hidden bg-dark text-light opacity-70 text-center text-xl lg:text-4xl font-bold mb-2 rounded-lg"
      ></h1>

      <div
        id="tv-container"
        class="w-full lg:w-4/5 relative h-full lg:bg-tv-pattern bg-contain"
      >
        <div
          class="hidden lg:block absolute top-0 left-0 w-[80px] h-full bg-dark bg-opacity-0 hover-bg-opacity-70 cursor-w-resize"
          _="on click 
              if #cards-layout's *width is '0px' then
                transition #cards-layout width to 20%
                transition #tv-container width to 80%
                remove .cursor-e-resize from me
                add .cursor-w-resize to me
              else
                transition #cards-layout width to 0
                transition #tv-container width to 100%
                remove .cursor-w-resize from me
                add .cursor-e-resize to me
              end
          "
        ></div>
        <video
          class="absolute top-0 left-0 w-full lg:top-[10%] lg:left-[8%] lg:w-[62%] lg:h-[76%] object-contain bg-black rounded-lg"
          id="tv-frame"
          src="images/static.mp4"
          controls
          autoplay
          muted
          _="on startAt(startTime) 
            set my currentTime to startTime
            on ended
              zap(currentChannelId)
          "
        ></video>
        <h1
          class="currently-playing absolute hidden lg:block w-3/4 overflow-hidden text-nowrap bottom-2 left-1/5 bg-dark text-light opacity-70 text-center text-4xl font-bold mb-2 rounded-lg"
        ></h1>
      </div>
    </div>
  </body>
</html>
